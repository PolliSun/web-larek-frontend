# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- `src/ `— исходные файлы проекта
- `src/components/` — папка с JS компонентами
- `src/components/base/` — папка с базовым кодом

Важные файлы:
- `src/pages/index.html` — HTML-файл главной страницы
- `src/types/index.ts` — файл с типами
- `src/index.ts` — точка входа приложения
- `src/styles/styles.scss` — корневой файл стилей
- `src/utils/constants.ts` — файл с константами
- `src/utils/utils.ts` — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```



# Описание проекта

## Класс `Api`

Класс `Api` предоставляет методы для выполнения HTTP запросов к удаленному серверу.

- `constructor(baseUrl: string, options: RequestInit = {})`: конструктор класса, принимает базовый URL и настройки запроса по умолчанию.
- `get(uri: string)`: метод для выполнения GET запроса к API.
- `post(uri: string, data: object, method: ApiPostMethods = 'POST')`: метод для выполнения POST запроса к API с передачей данных в теле запроса.
- `protected handleResponse(response: Response): Promise<object>`: метод для обработки ответа от сервера, в случае успешного ответа возвращает данные в формате объекта, иначе возвращает ошибку.

Этот класс упрощает выполнение запросов к API и обработку ответов, позволяя легко отправлять запросы и получать данные.


## Описание класса `EventEmitter`

Класс EventEmitter обеспечивает работу событий. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события

В классе `EventEmitter` используются следующие типы данных:
- `EventName`: строка или регулярное выражение, представляющее имя события.
- `Subscriber`: функция-подписчик на событие.
- `EmitterEvent`: объект, содержащий имя события и данные.

### Интерфейс `IEvents`

Интерфейс `IEvents` описывает методы, которые должны быть реализованы в классе `EventEmitter`:
- `on`: подписка на событие с указанием колбэка.
- `emit`: инициирование события и передача данных.
- `trigger`: создание триггера, который генерирует событие при вызове.

### Класс `EventEmitter`

Класс `EventEmitter` представляет собой реализацию брокера событий:
- `on`: устанавливает обработчик на событие.
- `off`: снимает обработчик с события.
- `emit`: инициирует событие и уведомляет подписчиков.
- `onAll`: устанавливает обработчик на все события.
- `offAll`: сбрасывает все обработчики.
- `trigger`: создает триггер, который инициирует событие при вызове.


## Типизация данных

### Данные карточки `ICard`

Интерфейс `ICard` определяет структуру данных для карточки товара:
- `id`: уникальный идентификатор товара.
- `category`: категория товара.
- `title`: название товара.
- `description`: описание товара.
- `image` (опционально): ссылка на изображение товара.
- `price`: цена товара (может быть `null`, если цена не определена).

### Данные формы оплаты `IOrderForm`

Интерфейс `IOrderForm` определяет структуру данных для формы оплаты:
- `address`: адрес доставки.
- `email`: адрес электронной почты.
- `phone`: номер телефона.
- `payment`: способ оплаты, указанный в типе `PaymentMethod`.

### Список для заказа `IOrder`

Интерфейс `IOrder` расширяет `IOrderForm` и добавляет дополнительные поля:
- `total`: общая сумма заказа.
- `items`: массив идентификаторов товаров в заказе.

### Заполнить каталог `IOrderResult`

Интерфейс `IOrderResult` представляет собой результат заказа:
- `id`: уникальный идентификатор заказа.
- `total`: общая сумма заказа.

### Вид оплаты `PaymentMethod`

Тип `PaymentMethod` представляет возможные способы оплаты: "online" (онлайн) и "personally" (при получении).

### Ошибки формы `FormErrors`

Тип `FormErrors` представляет собой частичный набор записей об ошибках формы, в котором ключами являются поля формы из интерфейса `IOrder`, а значениями - сообщения об ошибках.

### Методы `IAppState`

Интерфейс `IAppState` определяет структуру данных для состояния приложения:
- `catalog`: массив карточек товаров.
- `basket`: массив товаров в корзине.
- `preview`: ссылка на превью товара.
- `order`: информация о текущем заказе.